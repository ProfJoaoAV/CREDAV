<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marca o Ponto nas Fun√ß√µes Sint√°ticas</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* --- ESTILOS GERAIS (Partilhados) --- */
        body {
            background-color: #92400e; /* Castanho Escuro */
            background-image: linear-gradient(135deg, #a16207 0%, #78350f 100%);
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            flex-direction: column;
            padding-top: 20px;
        }

        /* --- BOT√ïES DE NAVEGA√á√ÉO --- */
        .nav-container {
            width: 100%;
            display: flex;
            justify-content: center;
            margin-bottom: 25px;
            z-index: 10;
        }

        .big-switch-btn {
            @apply px-8 py-4 text-lg sm:text-xl font-black rounded-full shadow-2xl transition-all duration-300 transform hover:scale-105 border-4;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .btn-to-game {
            background-color: #16a34a; /* Verde Vibrante */
            border-color: #86efac;
            color: white;
            box-shadow: 0 0 20px rgba(22, 163, 74, 0.6);
        }

        .btn-to-study {
            background-color: #2563eb; /* Azul Vibrante */
            border-color: #93c5fd;
            color: white;
            box-shadow: 0 0 20px rgba(37, 99, 235, 0.6);
        }

        /* --- ESTILOS GERAIS --- */
        .basket-ball {
            color: #ea580c;
            text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.2);
        }
        .study-board, #game-board {
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5), 0 0 0 5px #f59e0b;
        }
        
        /* Abas de Estudo */
        .tab-button {
            transition: all 0.3s ease;
            @apply px-4 py-2 font-bold text-sm sm:text-base rounded-full shadow-lg border-2 border-transparent;
        }
        .active-tab {
            background-color: #ea580c;
            color: white;
            border-color: #fcd34d;
            transform: translateY(-4px);
        }
        .inactive-tab {
            background-color: #fb923c;
            color: #333;
            opacity: 0.8;
        }
        .destaque {
            font-weight: bold;
            color: #ea580c;
        }

        /* Jogo e Canvas */
        #gameCanvas {
            border-bottom: 5px solid #000;
            background-color: #d1b48c;
            cursor: pointer;
        }
        #force-container {
            height: 15px;
            border: 2px solid #5a5a5a;
            background-color: #eee;
            border-radius: 9999px;
        }
        #force-bar {
            height: 100%;
            width: 0%;
            background-color: #ef4444;
            transition: background-color 0.1s;
        }
        #force-bar.ideal {
            background-color: #10b981;
        }
        .game-button {
            @apply px-6 py-3 font-bold text-white rounded-lg transition-transform transform hover:scale-105 active:scale-95 shadow-lg;
            background-color: #ea580c;
            border: 2px solid #f97316;
        }
        
        /* Modal e Op√ß√µes */
        .modal {
            background-color: rgba(0, 0, 0, 0.85);
        }
        .modal-content {
            box-shadow: 0 0 30px rgba(255, 140, 0, 0.9);
            border: 6px solid #f59e0b;
        }
        .radio-label {
            display: flex;
            align-items: flex-start;
            width: 100%;
            @apply p-4 mb-3 bg-amber-100 rounded-xl cursor-pointer transition duration-200 hover:bg-amber-200 text-gray-800 font-medium text-lg;
            border: 2px solid transparent;
        }
        .radio-label:hover {
            border-color: #f59e0b;
        }
        .radio-label input[type="radio"] {
            flex-shrink: 0; 
            margin-right: 12px;
            margin-top: 6px; 
            transform: scale(1.3);
        }

    </style>
</head>
<body class="p-4 sm:p-8">

    <div id="study-view" class="w-full flex flex-col items-center">
        
        <div class="nav-container">
            <button onclick="switchView('game')" class="big-switch-btn btn-to-game">
                <span>üèÄ</span> Ir para o Jogo
            </button>
        </div>

        <div id="app" class="study-board w-full max-w-5xl bg-white/95 backdrop-blur-sm rounded-xl p-6 sm:p-10 mb-10">

            <h1 class="text-3xl sm:text-5xl font-extrabold text-center mb-8 text-gray-800">
                <span class="basket-ball">üèÄ</span> Marca o Ponto nas Fun√ß√µes Sint√°ticas
            </h1>

            <div class="flex flex-wrap justify-center gap-2 sm:gap-4 mb-8 p-3 bg-gray-100 rounded-lg shadow-inner">
                <button class="tab-button active-tab" onclick="openTab('sujeito')">1. Sujeito</button>
                <button class="tab-button inactive-tab" onclick="openTab('predicado')">2. Predicado</button>
                <button class="tab-button inactive-tab" onclick="openTab('cdireto')">3. Compl. Direto</button>
                <button class="tab-button inactive-tab" onclick="openTab('cindireto')">4. Compl. Indireto</button>
                <button class="tab-button inactive-tab" onclick="openTab('bivalentes')">5. Verbos Bivalentes</button>
            </div>

            <div id="sujeito" class="tab-content p-6 border-4 border-amber-600 rounded-lg bg-orange-50/70 shadow-lg">
                <h2 class="text-3xl font-bold mb-4 text-gray-900 border-b pb-2 border-amber-600">O Sujeito: Quem Faz a Jogada</h2>
                <p class="mb-4 text-gray-700">O <span class="destaque">Sujeito</span> √© o elemento central da frase, √© sobre ele que o Predicado diz alguma coisa. √â a nossa estrela em campo!</p>

                <h3 class="text-xl font-semibold mt-4 mb-2 text-amber-800">Como Identificar (A Tua Regra de Ouro):</h3>
                <ul class="list-disc pl-5 space-y-2 text-gray-600">
                    <li>Faz a pergunta: <span class="destaque">"Quem/O que + Verbo?"</span></li>
                    <li>Podes substitu√≠-lo pelos pronomes pessoais <span class="destaque">ele/ela/eles/elas</span>.</li>
                    <li><em class="font-medium">Exemplo:</em> Os astronautas percorreram o espa√ßo. &rarr; **Quem** percorreu? &rarr; <span class="destaque">Os astronautas</span> (Sujeito).</li>
                </ul>

                <h3 class="text-xl font-semibold mt-6 mb-2 text-amber-800">Tipos de Sujeito:</h3>
                <div class="grid md:grid-cols-2 gap-4 mt-4">
                    <div class="bg-white p-4 rounded-lg shadow-md border-l-4 border-green-500">
                        <p class="font-bold text-lg">Simples:</p>
                        <p class="text-sm">Um <span class="destaque">√∫nico</span> Grupo Nominal ou n√∫cleo.</p>
                        <p class="text-xs italic mt-1">Exemplo: **As alpinistas** subiram.</p>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow-md border-l-4 border-red-500">
                        <p class="font-bold text-lg">Composto:</p>
                        <p class="text-sm"><span class="destaque">Dois ou mais</span> Grupos Nominais ou n√∫cleos.</p>
                        <p class="text-xs italic mt-1">Exemplo: **A alpinista e os amigos** subiram.</p>
                    </div>
                </div>
            </div>

            <div id="predicado" class="tab-content hidden p-6 border-4 border-amber-600 rounded-lg bg-orange-50/70 shadow-lg">
                <h2 class="text-3xl font-bold mb-4 text-gray-900 border-b pb-2 border-amber-600">O Predicado: A A√ß√£o no Campo</h2>
                <p class="mb-4 text-gray-700">O <span class="destaque">Predicado</span> √© o que se diz ou o que acontece com o Sujeito. O seu n√∫cleo √© o <span class="destaque">verbo</span> ‚Äì o nosso motor de jogo!</p>

                <h3 class="text-xl font-semibold mt-4 mb-2 text-amber-800">N√∫cleo e Constitui√ß√£o:</h3>
                <ul class="list-disc pl-5 space-y-2 text-gray-600">
                    <li>√â desempenhado pelo <span class="destaque">Grupo Verbal</span>.</li>
                    <li>O n√∫cleo √© sempre o <span class="destaque">verbo</span> (principal ou auxiliar + principal).</li>
                    <li><em class="font-medium">Exemplo:</em> O gelo <span class="destaque">derreteu</span>.</li>
                    <li>O Predicado pode ter outros elementos, os <span class="destaque">Complementos</span>, que vamos estudar a seguir.</li>
                </ul>
                <div class="mt-6 p-4 bg-white rounded-lg shadow-inner">
                    <p class="font-semibold text-lg text-gray-700">Recapitulando a Estrutura Base:</p>
                    <p class="text-sm italic mt-1">**O livro (SUJEITO) √© interessante (PREDICADO).**</p>
                </div>
            </div>

            <div id="cdireto" class="tab-content hidden p-6 border-4 border-amber-600 rounded-lg bg-orange-50/70 shadow-lg">
                <h2 class="text-3xl font-bold mb-4 text-gray-900 border-b pb-2 border-amber-600">Complemento Direto: A Bola (sem Preposi√ß√£o)</h2>
                <p class="mb-4 text-gray-700">O <span class="destaque">Complemento Direto (CD)</span> completa o sentido do verbo e liga-se a ele <span class="destaque">diretamente</span>, **sem a preposi√ß√£o "a"** (√© a nossa bola de basquetebol, que √© passada diretamente!).</p>

                <h3 class="text-xl font-semibold mt-4 mb-2 text-amber-800">Como Identificar:</h3>
                <ul class="list-disc pl-5 space-y-2 text-gray-600">
                    <li>Faz a pergunta: <span class="destaque">"Verbo + o qu√™?"</span> ou <span class="destaque">"Verbo + quem?"</span> (se for uma pessoa).</li>
                    <li><em class="font-medium">Exemplo:</em> A Vit√≥ria quebrou <span class="destaque">o qu√™</span>? &rarr; <span class="destaque">dois pratos</span> (CD).</li>
                </ul>

                <h3 class="text-xl font-semibold mt-6 mb-2 text-amber-800">Substitui√ß√£o (O Drible de Mestre):</h3>
                <div class="p-3 bg-white rounded-lg shadow-md">
                    <p class="text-gray-700">Pode ser substitu√≠do pelos pronomes pessoais: <span class="destaque text-2xl">o, a, os, as</span>.</p>
                    <p class="text-xs italic mt-1">Exemplo: O Bernardo escutou a m√£e. &rarr; O Bernardo escutou-**a**.</p>
                </div>
            </div>

            <div id="cindireto" class="tab-content hidden p-6 border-4 border-amber-600 rounded-lg bg-orange-50/70 shadow-lg">
                <h2 class="text-3xl font-bold mb-4 text-gray-900 border-b pb-2 border-amber-600">Complemento Indireto: O Destinat√°rio do Passe</h2>
                <p class="mb-4 text-gray-700">O <span class="destaque">Complemento Indireto (CI)</span> completa o sentido do verbo e liga-se a ele **atrav√©s da preposi√ß√£o "a"** (√© o passe que vai **a** algu√©m).</p>

                <h3 class="text-xl font-semibold mt-4 mb-2 text-amber-800">Como Identificar:</h3>
                <ul class="list-disc pl-5 space-y-2 text-gray-600">
                    <li>Faz a pergunta: <span class="destaque">"Verbo + a quem?"</span></li>
                    <li><em class="font-medium">Exemplo:</em> A Rita telefonou <span class="destaque">a quem</span>? &rarr; <span class="destaque">√† sua melhor amiga</span> (CI).</li>
                </ul>

                <h3 class="text-xl font-semibold mt-6 mb-2 text-amber-800">Substitui√ß√£o (A Assist√™ncia Perfeita):</h3>
                <div class="p-3 bg-white rounded-lg shadow-md">
                    <p class="text-gray-700">Pode ser substitu√≠do pelos pronomes pessoais: <span class="destaque text-2xl">lhe, lhes</span>.</p>
                    <p class="text-xs italic mt-1">Exemplo: A Rita telefonou √† sua melhor amiga. &rarr; A Rita telefonou-**lhe**.</p>
                </div>
            </div>

            <div id="bivalentes" class="tab-content hidden p-6 border-4 border-amber-600 rounded-lg bg-orange-50/70 shadow-lg">
                <h2 class="text-3xl font-bold mb-4 text-gray-900 border-b pb-2 border-amber-600">Verbos Bivalentes: Os Reis da Dupla Jogada</h2>
                <p class="mb-4 text-gray-700">Alguns verbos s√£o t√£o fortes que exigem os <span class="destaque">dois complementos ao mesmo tempo</span>: o **Direto** (a bola) e o **Indireto** (o destinat√°rio).</p>

                <div class="p-4 bg-amber-200 rounded-lg shadow-md border-2 border-amber-500 mb-6">
                    <p class="font-bold text-lg text-amber-900">Exemplo de Dupla Jogada:</p>
                    <p class="text-sm italic">O Ant√≥nio **ofereceu**</p>
                    <ul class="list-inside list-none mt-2 space-y-1">
                        <li class="font-semibold text-green-700">1. Complemento Direto (o qu√™?): <span class="font-normal italic">um presente</span></li>
                        <li class="font-semibold text-red-700">2. Complemento Indireto (a quem?): <span class="font-normal italic">aos av√≥s</span></li>
                    </ul>
                </div>

                <h3 class="text-xl font-semibold mt-4 mb-2 text-amber-800">Lista de Verbos (Os Atacantes Principais):</h3>
                <div class="flex flex-wrap gap-2 text-white text-sm font-semibold">
                    <span class="bg-orange-500 px-3 py-1 rounded-full shadow">contar</span>
                    <span class="bg-orange-600 px-3 py-1 rounded-full shadow">dar</span>
                    <span class="bg-orange-500 px-3 py-1 rounded-full shadow">devolver</span>
                    <span class="bg-orange-600 px-3 py-1 rounded-full shadow">dizer</span>
                    <span class="bg-orange-500 px-3 py-1 rounded-full shadow">emprestar</span>
                    <span class="bg-orange-600 px-3 py-1 rounded-full shadow">enviar</span>
                    <span class="bg-orange-500 px-3 py-1 rounded-full shadow">explicar</span>
                    <span class="bg-orange-600 px-3 py-1 rounded-full shadow">indicar</span>
                    <span class="bg-orange-500 px-3 py-1 rounded-full shadow">mostrar</span>
                    <span class="bg-orange-600 px-3 py-1 rounded-full shadow">pedir</span>
                    <span class="bg-orange-500 px-3 py-1 rounded-full shadow">perguntar</span>
                    <span class="bg-orange-600 px-3 py-1 rounded-full shadow">solicitar</span>
                </div>
            </div>

        </div>
    </div>

    <div id="game-view" class="w-full flex flex-col items-center hidden">

        <div class="nav-container">
            <button onclick="switchView('study')" class="big-switch-btn btn-to-study">
                <span>üìö</span> Voltar √† Mat√©ria
            </button>
        </div>

        <div id="game-board" class="w-full max-w-4xl bg-white/95 backdrop-blur-sm rounded-xl p-4 sm:p-6 mb-10">

            <div class="flex flex-col sm:flex-row justify-between items-center mb-6 border-b pb-4 border-gray-300">
                <h1 class="text-3xl font-extrabold text-gray-800 mb-4 sm:mb-0">
                    <span class="text-orange-600">üèÄ</span> Lan√ßamento Perfeito
                </h1>
                <div class="flex space-x-6 text-xl font-bold">
                    <span id="player-turn" class="text-gray-700">Turno: Jogador 1</span>
                    <span class="text-orange-600">P1: <span id="scoreP1">0</span></span>
                    <span class="text-gray-500">P2: <span id="scoreP2">0</span></span>
                </div>
            </div>

            <div class="flex flex-col lg:flex-row gap-4">
                <div class="lg:w-3/4">
                    <canvas id="gameCanvas" width="700" height="400" class="rounded-lg w-full"></canvas>
                    <div id="game-message" class="text-center mt-3 text-lg font-semibold text-gray-700 h-6">
                        Responde √† pergunta para lan√ßar!
                    </div>
                </div>

                <div class="lg:w-1/4 flex flex-col space-y-4">
                    <div class="p-3 bg-gray-100 rounded-lg shadow-inner">
                        <p class="font-semibold text-sm text-gray-700 mb-2">For√ßa (Espa√ßo / Clique)</p>
                        <div id="force-container">
                            <div id="force-bar" class="rounded-full"></div>
                        </div>
                        <div class="flex justify-between text-xs mt-1 text-gray-500">
                            <span>Fraca</span>
                            <span>Ideal</span>
                            <span>M√°xima</span>
                        </div>
                    </div>

                    <button id="start-game-btn" class="game-button bg-green-600 hover:bg-green-700" onclick="startGame()">
                        Iniciar Novo Jogo
                    </button>
                    <button id="next-turn-btn" class="game-button bg-blue-600 hover:bg-blue-700" onclick="nextTurn()" disabled>
                        Pr√≥ximo Turno
                    </button>
                    
                    <div class="p-3 bg-yellow-100 rounded-lg text-sm text-yellow-800">
                        <p class="font-bold mb-1">Dica:</p>
                        <p>O cesto agora √© mais largo! Aponta com calma e acerta na for√ßa verde.</p>
                    </div>
                </div>
            </div>
            
        </div>
    </div>
    
    <div id="questionModal" class="modal fixed inset-0 z-50 flex items-center justify-center hidden">
        <div class="modal-content bg-white p-6 sm:p-8 rounded-xl w-11/12 max-w-2xl">
            <h2 class="text-3xl font-bold mb-6 text-orange-600 text-center border-b-2 border-orange-200 pb-2">Pergunta Sint√°tica!</h2>
            <p id="question-text" class="text-xl mb-6 text-gray-800 font-medium"></p>
            
            <form id="answer-form" class="w-full">
                <label class="radio-label">
                    <input type="radio" name="answer" value="A"> 
                    <span id="option-A"></span>
                </label>
                <label class="radio-label">
                    <input type="radio" name="answer" value="B"> 
                    <span id="option-B"></span>
                </label>
                <label class="radio-label">
                    <input type="radio" name="answer" value="C"> 
                    <span id="option-C"></span>
                </label>
                
                <button type="submit" class="game-button w-full mt-6 bg-green-500 hover:bg-green-600 text-xl py-4">
                    Responder e Lan√ßar
                </button>
            </form>
        </div>
    </div>

    <script>
        // --- NAVEGA√á√ÉO ---
        function switchView(viewName) {
            const studyView = document.getElementById('study-view');
            const gameView = document.getElementById('game-view');
            if (viewName === 'game') {
                studyView.classList.add('hidden');
                gameView.classList.remove('hidden');
            } else {
                gameView.classList.add('hidden');
                studyView.classList.remove('hidden');
            }
            window.scrollTo(0,0);
        }

        // --- ABAS ---
        function openTab(tabId) {
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.add('hidden'));
            const buttons = document.querySelectorAll('.tab-button');
            buttons.forEach(button => {
                button.classList.remove('active-tab');
                button.classList.add('inactive-tab');
            });
            document.getElementById(tabId).classList.remove('hidden');
            document.querySelector(`[onclick="openTab('${tabId}')"]`).classList.add('active-tab');
            document.querySelector(`[onclick="openTab('${tabId}')"]`).classList.remove('inactive-tab');
        }
        document.addEventListener('DOMContentLoaded', () => openTab('sujeito'));

        // --- L√ìGICA DO JOGO ---
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const scoreP1El = document.getElementById('scoreP1');
        const scoreP2El = document.getElementById('scoreP2');
        const playerTurnEl = document.getElementById('player-turn');
        const gameMessageEl = document.getElementById('game-message');
        const forceBar = document.getElementById('force-bar');
        const questionModal = document.getElementById('questionModal');
        const answerForm = document.getElementById('answer-form');
        const nextTurnBtn = document.getElementById('next-turn-btn');

        const GAME_WIDTH = canvas.width;
        const GAME_HEIGHT = canvas.height;
        const GROUND_Y = GAME_HEIGHT - 30;
        const BALL_RADIUS = 10;
        
        // AJUSTE: Cesto mais largo (Era 50, agora 75)
        const HOOP_X = GAME_WIDTH - 110; // Posi√ß√£o X
        const HOOP_WIDTH = 75;           // Largura
        const HOOP_Y = 150;
        const HOOP_HEIGHT = 5;
        const BACKBOARD_HEIGHT = 90;
        const NET_HEIGHT = 15;

        let gameState = {
            scores: { p1: 0, p2: 0 },
            currentPlayer: 1,
            isQuestionAnswered: false,
            isAiming: true,
            isForcing: false,
            isShooting: false,
        };

        let ball = { x: 50, y: GROUND_Y - BALL_RADIUS, vx: 0, vy: 0, gravity: 0.15 };
        let angle = 45; 
        let angleDirection = 1;
        let force = 0;
        let forceDirection = 1;
        let currentQuestion = null;

        function drawBackground() {
            ctx.fillStyle = '#c0a27d';
            ctx.fillRect(0, GROUND_Y, GAME_WIDTH, GAME_HEIGHT - GROUND_Y);
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.7)';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.arc(HOOP_X - 100, GROUND_Y, 200, Math.PI, 2 * Math.PI);
            ctx.stroke();
        }

        function drawHoop() {
            // Poste
            ctx.fillStyle = '#6b7280';
            ctx.fillRect(HOOP_X + HOOP_WIDTH / 2 - 5, HOOP_Y + HOOP_HEIGHT, 10, GAME_HEIGHT - HOOP_Y - HOOP_HEIGHT - 30);
            
            // Tabela
            ctx.fillStyle = '#fef3c7';
            ctx.fillRect(HOOP_X + HOOP_WIDTH, HOOP_Y - BACKBOARD_HEIGHT / 2, 5, BACKBOARD_HEIGHT);
            
            // Aro (Frente e Tr√°s)
            ctx.fillStyle = '#ea580c';
            ctx.fillRect(HOOP_X, HOOP_Y, HOOP_WIDTH, HOOP_HEIGHT);

            // Rede
            ctx.strokeStyle = '#fff';
            ctx.lineWidth = 1;
            ctx.beginPath();
            for (let i = 0; i <= HOOP_WIDTH; i += 15) {
                ctx.moveTo(HOOP_X + i, HOOP_Y + HOOP_HEIGHT);
                ctx.lineTo(HOOP_X + i + 5, HOOP_Y + HOOP_HEIGHT + NET_HEIGHT + 15); // Efeito rede solta
            }
            ctx.stroke();
        }

        function drawBall() {
            ctx.beginPath();
            ctx.arc(ball.x, ball.y, BALL_RADIUS, 0, Math.PI * 2);
            ctx.fillStyle = '#f97316';
            ctx.fill();
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1.5;
            ctx.stroke(); 
        }

        function drawAimArrow() {
            if (!gameState.isAiming) return;
            const length = 50;
            const radians = angle * Math.PI / 180;
            const endX = ball.x + length * Math.cos(radians);
            const endY = ball.y - length * Math.sin(radians);
            ctx.strokeStyle = 'rgba(255, 255, 0, 0.8)';
            ctx.lineWidth = 3;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(ball.x, ball.y);
            ctx.lineTo(endX, endY);
            ctx.stroke();
            ctx.setLineDash([]);
        }

        function clearCanvas() { ctx.clearRect(0, 0, GAME_WIDTH, GAME_HEIGHT); }

        function updateBall() {
            if (!gameState.isShooting) return;

            ball.vy += ball.gravity;
            ball.x += ball.vx;
            ball.y += ball.vy;

            // 1. Colis√£o com o ch√£o
            if (ball.y + BALL_RADIUS > GROUND_Y) {
                ball.y = GROUND_Y - BALL_RADIUS;
                ball.vy *= -0.7;
                ball.vx *= 0.8;
                if (Math.abs(ball.vy) < 1) { 
                    gameState.isShooting = false;
                    endTurn('Falhou o cesto!', false);
                }
            }
            
            // 2. Colis√£o com a Tabela (Atr√°s)
            const BACKBOARD_X = HOOP_X + HOOP_WIDTH;
            if (ball.x + BALL_RADIUS > BACKBOARD_X && ball.x < BACKBOARD_X + 10 &&
                ball.y > HOOP_Y - BACKBOARD_HEIGHT / 2 && ball.y < HOOP_Y + BACKBOARD_HEIGHT / 2) {
                ball.vx *= -0.8;
                ball.x = BACKBOARD_X - BALL_RADIUS;
            }

            // 3. Colis√£o com o Aro (FRENTE APENAS)
            const frontRimX = HOOP_X;
            const rimHitboxSize = 12;

            if (ball.x + BALL_RADIUS > frontRimX - rimHitboxSize && 
                ball.x - BALL_RADIUS < frontRimX + rimHitboxSize &&
                ball.y + BALL_RADIUS > HOOP_Y - rimHitboxSize && 
                ball.y - BALL_RADIUS < HOOP_Y + rimHitboxSize) {
                 ball.vy *= -0.8;
                 ball.vx *= -0.8;
            }
            
            // 4. Verifica√ß√£o de Ponto
            if (ball.x > HOOP_X + 5 && ball.x < HOOP_X + HOOP_WIDTH - 5 && 
                ball.y > HOOP_Y && ball.y < HOOP_Y + 15 && ball.vy > 0) {
                
                ball.x = HOOP_X + HOOP_WIDTH / 2;
                ball.y = HOOP_Y + 20;
                
                gameState.isShooting = false;
                gameState.scores[`p${gameState.currentPlayer}`]++;
                updateScoreDisplay();
                endTurn('PONTO! CESTO! Fant√°stico!', true);
            }
        }

        function updateAngle() {
            if (!gameState.isAiming) return;
            angle += angleDirection * 0.5;
            if (angle > 90 || angle < 0) angleDirection *= -1;
        }

        function updateForce() {
            if (!gameState.isForcing) return;
            force += forceDirection * 1.5;
            if (force > 100 || force < 0) forceDirection *= -1;
            forceBar.style.width = `${force}%`;
            if (force > 40 && force < 70) forceBar.classList.add('ideal');
            else forceBar.classList.remove('ideal');
        }

        function shoot() {
            if (!gameState.isQuestionAnswered || gameState.isShooting) return;
            gameState.isAiming = false;
            gameState.isForcing = false;
            gameState.isShooting = true;
            const speed = (force / 100) * 13 + 6; // Ligeiro ajuste na velocidade
            const radians = angle * Math.PI / 180; 
            ball.vx = speed * Math.cos(radians);
            ball.vy = -speed * Math.sin(radians);
            gameMessageEl.textContent = 'Bola no ar...';
        }

        function gameLoop() {
            clearCanvas();
            drawBackground();
            drawHoop();
            updateAngle();
            updateForce();
            updateBall();
            drawBall();
            drawAimArrow();
            requestAnimationFrame(gameLoop);
        }

        // --- SISTEMA DE JOGO ---
        function updateScoreDisplay() {
            scoreP1El.textContent = gameState.scores.p1;
            scoreP2El.textContent = gameState.scores.p2;
            playerTurnEl.textContent = `Turno: Jogador ${gameState.currentPlayer}`;
        }
        
        function resetBallPosition() {
            ball.x = 50; ball.y = GROUND_Y - BALL_RADIUS;
            ball.vx = 0; ball.vy = 0;
            angle = 45; force = 0;
            forceBar.style.width = '0%';
            forceBar.classList.remove('ideal');
        }

        function startTurn() {
            resetBallPosition();
            gameState.isQuestionAnswered = false;
            gameState.isAiming = true;
            gameState.isForcing = false;
            gameState.isShooting = false;
            nextTurnBtn.disabled = true;
            loadQuestion();
            questionModal.classList.remove('hidden');
            gameMessageEl.textContent = 'Responde √† pergunta para lan√ßar!';
        }

        function endTurn(message, scored) {
            gameMessageEl.textContent = message;
            nextTurnBtn.disabled = false;
            if (scored) setTimeout(() => nextTurn(), 2500);
        }
        
        function nextTurn() {
            gameState.currentPlayer = gameState.currentPlayer === 1 ? 2 : 1;
            updateScoreDisplay();
            startTurn();
        }

        function startGame() {
            gameState.scores = { p1: 0, p2: 0 };
            gameState.currentPlayer = 1;
            updateScoreDisplay();
            document.getElementById('start-game-btn').textContent = 'Reiniciar Jogo';
            startTurn();
        }

        // --- INPUTS ---
        canvas.addEventListener('click', handleGameControl);
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space') { e.preventDefault(); handleGameControl(); }
        });

        function handleGameControl() {
            const gameView = document.getElementById('game-view');
            if (gameView.classList.contains('hidden')) return;
            if (!gameState.isQuestionAnswered || gameState.isShooting) return;
            
            if (gameState.isAiming) {
                gameState.isAiming = false;
                gameState.isForcing = true;
                gameMessageEl.textContent = 'Define a for√ßa!';
            } else if (gameState.isForcing) {
                shoot();
            }
        }
        
        // --- TODAS AS PERGUNTAS ORIGINAIS ---
        const questions = [
            {
                q: "Qual √© a fun√ß√£o sint√°tica da express√£o <span class='font-extrabold text-blue-800'>'O gelo'</span> na frase: 'O gelo derreteu.'?",
                options: { A: "Predicado", B: "Sujeito Simples", C: "Complemento Direto" },
                answer: "B",
            },
            {
                q: "Na frase 'A Vit√≥ria quebrou <span class='font-extrabold text-blue-800'>dois pratos</span>.', qual √© a fun√ß√£o sint√°tica da express√£o a negrito?",
                options: { A: "Complemento Indireto (CI)", B: "Sujeito Composto", C: "Complemento Direto (CD)" },
                answer: "C",
            },
            {
                q: "Qual pronome pessoal pode substituir o Complemento Indireto (CI) na frase: 'A Rita telefonou <span class='font-extrabold text-blue-800'>√† sua melhor amiga</span>.'?",
                options: { A: "O/A", B: "Lhe/Lhes", C: "Ele/Ela" },
                answer: "B",
            },
            {
                q: "O n√∫cleo da fun√ß√£o <span class='font-extrabold text-blue-800'>Predicado</span> √© sempre o...",
                options: { A: "Nome", B: "Verbo", C: "Adjetivo" },
                answer: "B",
            },
            {
                q: "Um sujeito √© considerado '<span class='font-extrabold text-blue-800'>Composto</span>' quando tem:",
                options: { A: "Apenas um Grupo Nominal.", B: "Dois ou mais Grupos Nominais.", C: "Um Complemento Indireto." },
                answer: "B",
            },
            {
                q: "Na frase 'O Bernardo <span class='font-extrabold text-blue-800'>escutou a m√£e</span>.', qual √© a fun√ß√£o sint√°tica da express√£o a negrito?",
                options: { A: "Sujeito", B: "Complemento Direto", C: "Predicado" },
                answer: "C",
            },
            {
                q: "Qual a fun√ß√£o sint√°tica de <span class='font-extrabold text-blue-800'>'O Jo√£o e a Ana'</span> na frase: 'O Jo√£o e a Ana foram ao parque.'?",
                options: { A: "Sujeito Composto", B: "Sujeito Simples", C: "Predicado" },
                answer: "A",
            },
            {
                q: "Na frase 'Eu li <span class='font-extrabold text-blue-800'>um livro</span> interessante.', a express√£o a negrito √©:",
                options: { A: "Complemento Indireto", B: "Sujeito", C: "Complemento Direto" },
                answer: "C",
            },
            {
                q: "A frase 'Choveu <span class='font-extrabold text-blue-800'>muito</span>.' tem um Sujeito...",
                options: { A: "Simples", B: "Composto", C: "Indeterminado / Inexistente" },
                answer: "C",
            },
            {
                q: "Na frase 'A m√£e deu <span class='font-extrabold text-blue-800'>flores</span> ao pai.', qual a fun√ß√£o de 'flores'?",
                options: { A: "Complemento Indireto", B: "Complemento Direto", C: "Sujeito" },
                answer: "B",
            },
            {
                q: "Qual a fun√ß√£o de <span class='font-extrabold text-blue-800'>'√† professora'</span> na frase: 'Eu entreguei o trabalho √† professora.'?",
                options: { A: "Complemento Direto", B: "Sujeito", C: "Complemento Indireto" },
                answer: "C",
            },
            {
                q: "Na frase 'O Vasco <span class='font-extrabold text-blue-800'>comprou o bilhete</span>.', a express√£o a negrito √© o...",
                options: { A: "Sujeito", B: "Predicado", C: "Complemento Indireto" },
                answer: "B",
            },
            {
                q: "Qual a fun√ß√£o sint√°tica de <span class='font-extrabold text-blue-800'>'N√≥s'</span> na frase: 'N√≥s jog√°mos √† bola no recreio.'?",
                options: { A: "Complemento Direto", B: "Sujeito Simples", C: "Predicado" },
                answer: "B",
            },
            {
                q: "Na frase 'A Marta <span class='font-extrabold text-blue-800'>leu um postal</span>.', a express√£o a negrito √© o...",
                options: { A: "Sujeito", B: "Complemento Indireto", C: "Predicado" },
                answer: "C",
            },
            {
                q: "Na frase 'Oferecemos <span class='font-extrabold text-blue-800'>um presente</span> ao av√¥.', a express√£o a negrito √©:",
                options: { A: "Complemento Indireto", B: "Sujeito", C: "Complemento Direto" },
                answer: "C",
            },
            {
                q: "Na frase 'A Petra √© um furac√£o.', a fun√ß√£o sint√°tica de <span class='font-extrabold text-blue-800'>'A Petra'</span> √©:",
                options: { A: "Complemento Direto", B: "Sujeito Simples", C: "Complemento Indireto" },
                answer: "B",
            },
            {
                q: "Na frase 'O √çtalo apanhou uns bichos no recreio.', qual a fun√ß√£o de <span class='font-extrabold text-blue-800'>'uns bichos'</span>?",
                options: { A: "Complemento Direto", B: "Sujeito Simples", C: "Predicado" },
                answer: "A",
            },
            {
                q: "Na frase 'A Mariana √© muito calma.', qual √© o <span class='font-extrabold text-blue-800'>Sujeito</span>?",
                options: { A: "Muito calma", B: "A Mariana", C: "√â" },
                answer: "B",
            },
            {
                q: "Na frase 'O Tom√°s gosta de participar.', qual √© o <span class='font-extrabold text-blue-800'>Predicado</span>?",
                options: { A: "Gosta", B: "Gosta de participar", C: "O Tom√°s" },
                answer: "B",
            },
            {
                q: "Na frase 'O Branquinho √© um bom aluno.', qual √© a fun√ß√£o de <span class='font-extrabold text-blue-800'>'O Branquinho'</span>?",
                options: { A: "Complemento Direto", B: "Sujeito Simples", C: "Predicado" },
                answer: "B",
            },
            {
                q: "Na frase 'A Carolina √© do Benfica.', a express√£o <span class='font-extrabold text-blue-800'>'√© do Benfica'</span> √© o:",
                options: { A: "Complemento Direto", B: "Sujeito Composto", C: "Predicado" },
                answer: "C",
            },
            {
                q: "Na frase 'O Adonai comeu <span class='font-extrabold text-blue-800'>um panado</span>.', a express√£o a negrito √©:",
                options: { A: "Complemento Indireto", B: "Complemento Direto", C: "Sujeito Simples" },
                answer: "B",
            },
            {
                q: "Na frase 'O Gon√ßalo deu um rebu√ßado <span class='font-extrabold text-blue-800'>ao Afonso</span>.', qual a fun√ß√£o de 'ao Afonso'?",
                options: { A: "Complemento Indireto", B: "Complemento Direto", C: "Predicado" },
                answer: "A",
            },
            {
                q: "Na frase 'A Sofiia desenhou <span class='font-extrabold text-blue-800'>um gato lindo</span>.', qual a fun√ß√£o sint√°tica da express√£o a negrito?",
                options: { A: "Complemento Indireto", B: "Complemento Direto", C: "Sujeito Simples" },
                answer: "B",
            },
            {
                q: "Se dissermos 'A Petra e o √çtalo brincaram.', qual √© a fun√ß√£o sint√°tica de <span class='font-extrabold text-blue-800'>'A Petra e o √çtalo'</span>?",
                options: { A: "Sujeito Simples", B: "Sujeito Composto", C: "Predicado" },
                answer: "B",
            },
            {
                q: "Qual √© a fun√ß√£o sint√°tica de <span class='font-extrabold text-blue-800'>'Eu'</span> na frase: 'Eu fiz os trabalhos de casa.'?",
                options: { A: "Predicado", B: "Sujeito Simples", C: "Complemento Direto" },
                answer: "B",
            },
            {
                q: "Na frase 'A Joana e o Pedro chegaram.', qual a fun√ß√£o de <span class='font-extrabold text-blue-800'>'chegaram'</span>?",
                options: { A: "Sujeito Composto", B: "Complemento Direto", C: "Predicado" },
                answer: "C",
            },
            {
                q: "Na frase 'Os colegas ofereceram <span class='font-extrabold text-blue-800'>um √°lbum</span> √† Maria.', 'um √°lbum' √©:",
                options: { A: "Complemento Indireto", B: "Complemento Direto", C: "Sujeito Simples" },
                answer: "B",
            },
            {
                q: "Na frase 'O c√£o e o gato dormem.', qual √© o <span class='font-extrabold text-blue-800'>Sujeito</span>?",
                options: { A: "O c√£o", B: "O c√£o e o gato", C: "Dormem" },
                answer: "B",
            },
            {
                q: "Qual a fun√ß√£o sint√°tica de <span class='font-extrabold text-blue-800'>'ao rapaz'</span> na frase: 'A Ana emprestou o livro ao rapaz.'?",
                options: { A: "Complemento Direto", B: "Complemento Indireto", C: "Sujeito" },
                answer: "B",
            },
            {
                q: "Na frase 'N√≥s <span class='font-extrabold text-blue-800'>ouvimos m√∫sica</span>.', a express√£o a negrito √© o:",
                options: { A: "Complemento Direto", B: "Predicado", C: "Sujeito Simples" },
                answer: "B",
            },
            {
                q: "Qual √© o <span class='font-extrabold text-blue-800'>Sujeito</span> da frase 'Trouxe-me um postal.'?",
                options: { A: "Postal", B: "Sujeito Subentendido ('Eu')", C: "Nenhum" },
                answer: "B",
            },
            {
                q: "Na frase 'A Maria viu <span class='font-extrabold text-blue-800'>os primos</span> na festa.', 'os primos' √©:",
                options: { A: "Complemento Indireto", B: "Complemento Direto", C: "Predicado" },
                answer: "B",
            },
            {
                q: "Na frase 'Eu pedi <span class='font-extrabold text-blue-800'>desculpa</span> √† minha irm√£.', 'desculpa' √©:",
                options: { A: "Complemento Indireto", B: "Complemento Direto", C: "Sujeito" },
                answer: "B",
            },
            {
                q: "Qual a fun√ß√£o sint√°tica da express√£o <span class='font-extrabold text-blue-800'>'A Sara e o Diogo'</span> na frase: 'A Sara e o Diogo foram de f√©rias.'?",
                options: { A: "Sujeito Simples", B: "Sujeito Composto", C: "Predicado" },
                answer: "B",
            },
            {
                q: "Na frase 'O Tiago <span class='font-extrabold text-blue-800'>entregou o relat√≥rio</span>.', a express√£o a negrito √© o:",
                options: { A: "Sujeito", B: "Predicado", C: "Complemento Indireto" },
                answer: "B",
            },
            {
                q: "Na frase 'O Jo√£o escreveu <span class='font-extrabold text-blue-800'>uma mensagem</span> √† M√£e.', 'uma mensagem' √©:",
                options: { A: "Complemento Indireto", B: "Complemento Direto", C: "Sujeito" },
                answer: "B",
            },
            {
                q: "Qual a fun√ß√£o sint√°tica de <span class='font-extrabold text-blue-800'>'ao vizinho'</span> na frase: 'O carteiro entregou a encomenda ao vizinho.'?",
                options: { A: "Complemento Direto", B: "Complemento Indireto", C: "Predicado" },
                answer: "B",
            },
            {
                q: "Na frase 'A minha tia <span class='font-extrabold text-blue-800'>ensinou a receita</span> aos netos.', a express√£o a negrito √© o:",
                options: { A: "Complemento Direto", B: "Predicado", C: "Sujeito" },
                answer: "B",
            },
            {
                q: "Na frase 'A Filipa <span class='font-extrabold text-blue-800'>dan√ßa muito bem</span>.', a express√£o a negrito √© o:",
                options: { A: "Predicado", B: "Complemento Direto", C: "Sujeito Simples" },
                answer: "A",
            },
            {
                q: "A quem se refere o <span class='font-extrabold text-blue-800'>Sujeito Subentendido</span> na frase: 'Compr√°mos fruta fresca.'?",
                options: { A: "Eu", B: "N√≥s", C: "Eles/Elas" },
                answer: "B",
            },
            {
                q: "Na frase 'Os bombeiros combateram <span class='font-extrabold text-blue-800'>o inc√™ndio</span>.', 'o inc√™ndio' √©:",
                options: { A: "Complemento Indireto", B: "Complemento Direto", C: "Sujeito Composto" },
                answer: "B",
            },
            {
                q: "Na frase 'A gata pediu <span class='font-extrabold text-blue-800'>comida</span>.', qual a fun√ß√£o sint√°tica de 'comida'?",
                options: { A: "Complemento Indireto", B: "Complemento Direto", C: "Predicado" },
                answer: "B",
            },
            {
                q: "Qual a fun√ß√£o sint√°tica de <span class='font-extrabold text-blue-800'>'O professor e os alunos'</span> na frase: 'O professor e os alunos organizaram a festa.'?",
                options: { A: "Sujeito Simples", B: "Predicado", C: "Sujeito Composto" },
                answer: "C",
            },
            {
                q: "Na frase 'Ajud√°mos <span class='font-extrabold text-blue-800'>os idosos</span>.', 'os idosos' √©:",
                options: { A: "Sujeito Simples", B: "Complemento Indireto", C: "Complemento Direto" },
                answer: "C",
            },
            {
                q: "Na frase 'O Andr√© <span class='font-extrabold text-blue-800'>ofereceu um presente</span>.', a express√£o a negrito √© o:",
                options: { A: "Sujeito", B: "Predicado", C: "Complemento Direto" },
                answer: "B",
            },
            {
                q: "Na frase 'Eles <span class='font-extrabold text-blue-800'>comeram a sandes</span>.', qual a fun√ß√£o de 'comeram a sandes'?",
                options: { A: "Sujeito Simples", B: "Predicado", C: "Complemento Direto" },
                answer: "B",
            },
            {
                q: "Qual a fun√ß√£o sint√°tica de <span class='font-extrabold text-blue-800'>'a chave'</span> na frase: 'Eu encontrei a chave de casa.'?",
                options: { A: "Complemento Indireto", B: "Complemento Direto", C: "Sujeito" },
                answer: "B",
            },
            {
                q: "Na frase 'O Rodrigo e o Tiago <span class='font-extrabold text-blue-800'>jogaram futebol</span>.', a express√£o a negrito √© o:",
                options: { A: "Sujeito Composto", B: "Predicado", C: "Complemento Indireto" },
                answer: "B",
            },
            {
                q: "Na frase 'O Jo√£o deu <span class='font-extrabold text-blue-800'>um beijo</span> √† tia.', 'um beijo' √©:",
                options: { A: "Complemento Indireto", B: "Complemento Direto", C: "Sujeito" },
                answer: "B",
            },
            {
                q: "Na frase 'A Maria explicou a li√ß√£o <span class='font-extrabold text-blue-800'>aos colegas</span>.', a fun√ß√£o de 'aos colegas' √©:",
                options: { A: "Complemento Direto", B: "Complemento Indireto", C: "Predicado" },
                answer: "B",
            },
            {
                q: "O <span class='font-extrabold text-blue-800'>Complemento Direto</span> pode ser substitu√≠do pelos pronomes:",
                options: { A: "Me, Te, Lhe", B: "O, A, Os, As", C: "Nos, Vos, Lhes" },
                answer: "B",
            },
            {
                q: "Na frase 'Os turistas visitaram <span class='font-extrabold text-blue-800'>o castelo</span>.', 'o castelo' √©:",
                options: { A: "Sujeito Simples", B: "Complemento Direto", C: "Complemento Indireto" },
                answer: "B",
            },
            {
                q: "Qual a fun√ß√£o sint√°tica de <span class='font-extrabold text-blue-800'>'O sol e a lua'</span> na frase: 'O sol e a lua iluminam o c√©u.'?",
                options: { A: "Sujeito Composto", B: "Predicado", C: "Complemento Direto" },
                answer: "A",
            },
            {
                q: "Na frase 'A Patr√≠cia respondeu <span class='font-extrabold text-blue-800'>ao desafio</span>.', qual a fun√ß√£o de 'ao desafio'?",
                options: { A: "Complemento Direto", B: "Complemento Indireto", C: "Sujeito" },
                answer: "B",
            },
            {
                q: "Na frase 'O livro <span class='font-extrabold text-blue-800'>caiu</span>.', 'caiu' √© o:",
                options: { A: "Sujeito Simples", B: "Predicado", C: "Complemento Direto" },
                answer: "B",
            },
            {
                q: "Na frase 'A minha m√£e <span class='font-extrabold text-blue-800'>comprou o bilhete</span> ao meu pai.', a express√£o a negrito √© o:",
                options: { A: "Complemento Direto", B: "Predicado", C: "Sujeito Simples" },
                answer: "B",
            },
            {
                q: "Qual a fun√ß√£o sint√°tica de <span class='font-extrabold text-blue-800'>'a carta'</span> na frase: 'Eu escrevi a carta ao meu irm√£o.'?",
                options: { A: "Complemento Indireto", B: "Complemento Direto", C: "Sujeito" },
                answer: "B",
            },
            {
                q: "Na frase 'A av√≥ contou uma hist√≥ria <span class='font-extrabold text-blue-800'>aos netos</span>.', qual a fun√ß√£o de 'aos netos'?",
                options: { A: "Complemento Direto", B: "Sujeito Composto", C: "Complemento Indireto" },
                answer: "C",
            },
            {
                q: "Qual √© o <span class='font-extrabold text-blue-800'>Sujeito</span> da frase 'Pint√°mos a parede de azul.'?",
                options: { A: "A parede", B: "Sujeito Subentendido ('N√≥s')", C: "Nenhum" },
                answer: "B",
            },
            {
                q: "Na frase 'O professor elogiou <span class='font-extrabold text-blue-800'>o trabalho</span>.', 'o trabalho' √©:",
                options: { A: "Complemento Indireto", B: "Complemento Direto", C: "Predicado" },
                answer: "B",
            },
            {
                q: "A fun√ß√£o sint√°tica de <span class='font-extrabold text-blue-800'>'Os livros'</span> na frase: 'Os livros est√£o na mesa.' √©:",
                options: { A: "Predicado", B: "Sujeito Simples", C: "Complemento Direto" },
                answer: "B",
            },
            {
                q: "O <span class='font-extrabold text-blue-800'>Complemento Indireto</span> √© geralmente introduzido pela preposi√ß√£o:",
                options: { A: "Para", B: "Em", C: "A" },
                answer: "C",
            },
            {
                q: "Na frase 'A Rita e a Sara <span class='font-extrabold text-blue-800'>visitaram o museu</span>.', a express√£o a negrito √© o:",
                options: { A: "Sujeito Composto", B: "Predicado", C: "Complemento Direto" },
                answer: "B",
            },
            {
                q: "Qual a fun√ß√£o sint√°tica de <span class='font-extrabold text-blue-800'>'uma guloseima'</span> na frase: 'Ele deu uma guloseima ao amigo.'?",
                options: { A: "Complemento Indireto", B: "Complemento Direto", C: "Sujeito" },
                answer: "B",
            },
            {
                q: "Na frase 'A minha prima <span class='font-extrabold text-blue-800'>vive em Lisboa</span>.', a express√£o a negrito √© o:",
                options: { A: "Predicado", B: "Sujeito Simples", C: "Complemento Direto" },
                answer: "A",
            },
            {
                q: "O <span class='font-extrabold text-blue-800'>Predicado</span> √© a parte da frase que cont√©m...",
                options: { A: "O Nome", B: "O Verbo", C: "O Adjetivo" },
                answer: "B",
            },
            {
                q: "Na frase 'A Sofia ofereceu flores <span class='font-extrabold text-blue-800'>√† tia</span>.', '√† tia' √©:",
                options: { A: "Complemento Direto", B: "Complemento Indireto", C: "Sujeito Simples" },
                answer: "B",
            },
            {
                q: "Na frase 'Os telem√≥veis <span class='font-extrabold text-blue-800'>s√£o caros</span>.', qual √© a fun√ß√£o sint√°tica de 'Os telem√≥veis'?",
                options: { A: "Predicado", B: "Sujeito Simples", C: "Complemento Direto" },
                answer: "B",
            },
            {
                q: "Na frase 'A Ana e o Gil escreveram <span class='font-extrabold text-blue-800'>um poema</span>.', 'um poema' √©:",
                options: { A: "Complemento Indireto", B: "Complemento Direto", C: "Sujeito Composto" },
                answer: "B",
            },
            {
                q: "Na frase 'O Jo√£o <span class='font-extrabold text-blue-800'>gritou</span>.', a express√£o a negrito √© o:",
                options: { A: "Sujeito", B: "Predicado", C: "Complemento Direto" },
                answer: "B",
            },
        ];

        function loadQuestion() {
            let available = questions; 
            if (currentQuestion) {
                 available = questions.filter(q => q !== currentQuestion);
                 if (available.length === 0) available = questions; 
            }
            currentQuestion = available[Math.floor(Math.random() * available.length)];
            
            document.getElementById('question-text').innerHTML = currentQuestion.q;
            document.getElementById('option-A').innerHTML = currentQuestion.options.A;
            document.getElementById('option-B').innerHTML = currentQuestion.options.B;
            document.getElementById('option-C').innerHTML = currentQuestion.options.C;
            answerForm.reset();
        }

        answerForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const selected = document.querySelector('input[name="answer"]:checked');
            if (!selected) return;

            if (selected.value === currentQuestion.answer) {
                gameState.isQuestionAnswered = true;
                questionModal.classList.add('hidden');
                gameMessageEl.textContent = 'Correto! Lan√ßa a bola!';
            } else {
                questionModal.classList.add('hidden');
                endTurn('Incorreto. Vez do pr√≥ximo.', false);
                setTimeout(() => nextTurn(), 2000);
            }
        });

        gameLoop();
        gameMessageEl.textContent = 'Carrega em "Iniciar Novo Jogo" para come√ßar.';
    </script>
</body>
</html>
